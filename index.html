<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Interactive Robotics Algorithms</title>


    <!-- Bootstrap CSS -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/css/bootstrap-slider.css">
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">

    <!-- Materialized CSS -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>

    <!--Bootstrap Slider JavaScript-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/bootstrap-slider.min.js"></script>

    <!--jQuery appear plugin-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.appear/0.3.3/jquery.appear.min.js"></script>

    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>

    <!-- Compiled and Materialized minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>

    <!-- Customized CSS -->
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

    <!-- Core Javascript -->
    <script src="general/js/map_data.js"></script>
    <script src='general/js/path_data.js'></script>
    <script src="general/js/utils.js"></script>
    <script src="general/js/view.js"></script>
    <script src="general/js/odometry.js"></script>
    <script src="general/js/measurement.js"></script>
    <script src="general/js/particle.js"></script>
    <script src="general/js/particle_filter.js"></script>
    <script src="general/js/robot.js"></script>

    <script src="demo/js/demo_controls.js"></script>
    <script src="demo/js/robot_demo.js"></script>
    <script src="demo/js/sensor_demo.js"></script>
    <script src="demo/js/actuation_demo.js"></script>
    <script src="demo/js/measurement_beam_demo.js"></script>

    <script>
        $(document).ready(function () {
            $('.tooltipped').tooltip({delay: 50, position: "top"});
            $(".col ul").addClass("collection");
            $("ul.collection li").addClass("collection-item")
        });
    </script>
</head>
<body onload="init();">
<!--nav class="black" role="navigation">
    <div class="nav-wrapper container">
        <a id="title-container" href="#" data-activates="nav-mobile"
           class="brand-logo left">Home</a>
    </div>
</nav-->

<div id="index-banner" class="parallax-container">
    <div class="section no-pad-bot">
        <div class="container">
            <div class="row">
                <div class="col l12">
                    <h1>Mobile Robot Localization</h1>
                    <h4>An Interactive Explanation</h4>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">

    <div class="row">
        <div class="col l12">
            <p>
                Autonomous mobile robots need an understanding of where they are in the environment they are operating in.
                When outdoors GPS can be used to get the position, but in many robotics domains this is not possible.
                For indoor or underwater environments, or search and rescue scenarios, the designers operate under the
                assumption that GPS cannot be used to determine the robots position. Instead, the robot's position must
                be determined using its sensors in a process known as <b>localization</b>.
            </p>
            <p>
                If sensors and robotic movement were perfect, localization would be an easy problem. In the real world
                however, there are lots of small errors in sensing and movement that lead to <b>uncertainty</b> about
                the true position of the robot. In order to overcome this uncertainty and estimate the the true position
                of the robot, we need to be able to quantify the error and account for it.
            </p>
            <p>
                In this page, we discuss the sources of uncertainty in robotic movement and sensing through illustrative examples.
                We use these examples to build up to one popular algorithm for mobile robot localization called a <b>Particle Filter</b>.
            </p>
        </div>
    </div>

</div>

 <!--<div class="parallax-container valign-wrapper">
    <div class="section no-pad-bot">
        <div class="container">
            <div class="row">
                <div class="col l12">
                    <h4 style="color:black">Uncertainties in Robotics</h4>
                    <p style="color:black">
                        Robots, as physical entities acting in the real world, inherently suffer from errors in sensing,
                        and locomotion. Such errors result in uncertainty of the robot’s estimates of its location. 
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>-->

<div class="container">
    <div class="row">
        <div class="col l12">
            <h4>Uncertainty Arising From Motion</h4>
            <!--When we command robots to move forward and turn, it would be nice if robots can-->
            <!--carry out our commands with perfect precision. But in reality, they can't.-->
            <p>
                Uncertainty in a robot’s motion arises from a large number of factors, including differences in wheel
                diameter, tire inflation, friction with respect to the ground, and uneven terrain. These factors cause
                errors in the execution of planned motions.
                This demo simulates the errors in execution of motion commands on a real world robot. The blue line
                represents the planned motion, while the red line represents the robot's actual motion.
            </p>
        </div>
        <div class="col s6 offset-s3 center">
            <br>
            <canvas id="simple_actuation"></canvas>
            <button class="waves-effect waves-light btn-large"
                    onclick="simpleActuation.simulateActuation();">
                Simulate Robot Movement
            </button>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col l12 s12">
            <h6>The errors in execution of motion commands can be broken down into four components:</h6>
        </div>
    </div>
    <div class="row">
        <div class="col s12 m3">
            <div class="card">
                <div class="card-content">
                    <span class="card-title">E1</span>
                    <p>
                        When the robot is commanded to rotate by a certain angle, the true rotation of the robot might
                        differ what was commanded.
                    </p>
                </div>
                <div class="card-action">
                    <a>Rotational error from rotational movement</a>
                </div>
            </div>
        </div>
        <div class="col s12 m3">
            <div class="card">
                <div class="card-content">
                    <span class="card-title">E2</span>
                    <p>
                        When the robot is commanded to move straight, the robot may not drive
                        straight, and instead turn by some amount while traversing.
                    </p>
                </div>
                <div class="card-action">
                    <a>Rotational error from translational movement</a>
                </div>
            </div>
        </div>
        <div class="col s12 m3">
            <div class="card">
                <div class="card-content">
                    <span class="card-title">E3</span>
                    <p>
                        When the robot is commanded to move straight by a certain distance, the robot may not move by
                        that same distance.
                    </p>
                </div>
                <div class="card-action">
                    <a>Translational error from translational movement</a>
                </div>
            </div>
        </div>
        <div class="col s12 m3">
            <div class="card">
                <div class="card-content">
                    <span class="card-title">E4</span>
                    <p>
                        When the robot is commanded to rotate by a certain angle, the robot might, in addition to
                        turning, skid sideways or forward. This type of error is significant on robots with tank treads
                        and multiple wheels with skid-steering.
                    </p>
                </div>
                <div class="card-action">
                    <a>Translational error from rotational movement</a>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col l12 s12">
            <p>
                You can see the impact of each of these types of error on a robot’s motion. In the demos below, you can
                observe the impact of each type of error on the overall executed path of the robot. Try adjusting the
                slider to control the magnitude of the noise, and observe its impact on the path followed by the robot.
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col l3 s12 center">
            <button class="btn-large waves-effect waves-light" onclick="simulateAllActuations();">
                Simulate All!
            </button>
        </div>
        <div class="col l9 s12">
            <div class="range-field">
                <br>
                <input id='actuation_noise' type="range" min="0" max="0.3" step="0.01"
                       title="Noise">
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Rotational error from Rotation">E1</h6>
            <canvas id="actuation_a1"></canvas>
            <button class="btn waves-effect waves-light" onclick="a1Demo.simulateActuation();">
                <span class="glyphicon glyphicon-play"></span>
            </button>
        </div>
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Rotational error from Translation">E2</h6>
            <canvas id="actuation_a2"></canvas>
            <button class="btn waves-effect waves-light" onclick="a2Demo.simulateActuation();">
                <span class="glyphicon glyphicon-play"></span>
            </button>
        </div>
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Translational error from Translation">E3</h6>
            <canvas id="actuation_a3"></canvas>
            <button class="btn waves-effect waves-light" onclick="a3Demo.simulateActuation();">
                <span class="glyphicon glyphicon-play"></span>
            </button>
        </div>
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Translational error from Rotation">E4</h6>
            <canvas id="actuation_a4"></canvas>
            <button class="btn waves-effect waves-light" onclick="a4Demo.simulateActuation();">
                <span class="glyphicon glyphicon-play"></span>
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col l12 s12">
            <p>
                While the demos above simulated a single outcome of a robot at a time, we can
                also concurrently simulate many possible outcomes. The demos below simulate each of the
                four types of motion errors over many possible outcomes. This demonstrates the
                distribution of the robot’s possible locations over time.
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Rotational error from Rotation">E1</h6>
            <canvas id="motion_a1_demo" width="1" height="1" class="tooltipped"
                    data-tooltip="Robots spread in many directions due to rotational error from rotational movements">
            </canvas>
            <div class="center">
                <button class="btn waves-effect waves-light"
                        onclick="a1MDemo.start(event);">
                    <span class="glyphicon glyphicon-play"></span>
                </button>
                <button class="btn waves-effect waves-light"
                        onclick="a1MDemo.stop(event);">
                    <span class="glyphicon glyphicon-repeat"></span>
                </button>
            </div>
        </div>
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Rotational error from Translation">E2</h6>
            <canvas id="motion_a2_demo" width="1" height="1" class="tooltipped"
                    data-tooltip="Robots going in all directions due to rotational error generated by moving forward"></canvas>
            <div class="center">
                <button class="btn waves-effect waves-light"
                        onclick="a2MDemo.start(event);">
                    <span class="glyphicon glyphicon-play"></span>
                </button>
                <button class="btn waves-effect waves-light"
                        onclick="a2MDemo.stop(event);">
                    <span class="glyphicon glyphicon-repeat"></span>
                </button>
            </div>
        </div>
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Translational error from Translation">E3</h6>
            <canvas id="motion_a3_demo" width="1" height="1" class="tooltipped"
                    data-tooltip="Robots dispersed along a line due to translational error">
            </canvas>
            <div class="center">
                <button class="btn waves-effect waves-light"
                        onclick="a3MDemo.start(event);">
                    <span class="glyphicon glyphicon-play"></span>
                </button>
                <button class="btn waves-effect waves-light"
                        onclick="a3MDemo.stop(event);">
                    <span class="glyphicon glyphicon-repeat"></span>
                </button>
            </div>
        </div>
        <div class="col l3 s6 center">
            <h6 class="tooltipped" data-tooltip="Translational error from Rotation">E4</h6>
            <canvas id="motion_a4_demo" width="1" height="1" class="tooltipped"
                    data-tooltip="Robots dispersed all over the place due to translational errors from rotating">
            </canvas>
            <div class="center">
                <button class="btn waves-effect waves-light"
                        onclick="a4MDemo.start(event);">
                    <span class="glyphicon glyphicon-play"></span>
                </button>
                <button class="btn waves-effect waves-light"
                        onclick="a4MDemo.stop(event);">
                    <span class="glyphicon glyphicon-repeat"></span>
                </button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s12">
            Note how the errors accumulate over time: The possible outcomes of the robot spread apart, but in a
            different manner for each type of motion error.
        </div>
    </div>

    <div class='row'>
        <div class="col l12 s12">
            <h4>Simulating A Robot’s Motion On A Map</h4>
            <p>
                We can put these motion models together to create a simulation of a robots motion.
                In this demo, a robot is asked to follow a fixed
                trajectory(shown as the green path) in an indoor office building. The blue outlines are simulated
                outcomes of the robot’s location over time. Note how the simulated outcomes
                diverge over time. You may adjust the magnitude of each type of motion error, and see how it affects the
                outcomes.
            </p>
        </div>
    </div>

    <div class='row'>
        <div class="col l8 s12 center">
            <canvas id="motion_canvas" width="7" height="4"
                    class="tooltipped"
                    data-tooltip="Click PLAY to simulate some of the possible motions">
            </canvas>
            <button onclick="motionDemo.stop(event)" class="btn waves-effect waves-light red">
                <span class="glyphicon glyphicon-repeat"></span>
            </button>
            <button class="btn waves-effect waves-light blue disabled">
                <span class="glyphicon glyphicon-step-backward"></span>
            </button>
            <button onclick="motionDemo.start(event)" class="btn waves-effect waves-light">
                <span class="glyphicon glyphicon-play"></span>
            </button>
            <button onclick="motionDemo.stepForward(event)"
                    class="btn waves-effect waves-light blue">
                <span class="glyphicon glyphicon-step-forward"></span>
            </button>
        </div>
        <div class='col l4 s12'>
            <canvas id="motion_minicanvas" width="7" height="4"></canvas>
            <fieldset>
                <table>
                    <tbody>
                    <tr>
                        <td>
                            <label for="motion_stride">Moving Speed</label>
                        </td>
                        <td>
                            <input type='text' id="motion_stride"
                                   onblur='motionDemo.stride = Number(event.target.value);'
                                   value="0.04"
                                   data-slider-min="0.01" data-slider-max="0.5"
                                   data-slider-step="0.01"
                                   data-slider-value="0.04">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="motion_a1">Rotational error from rotation</label>
                        </td>
                        <td>
                            <input id='motion_a1' value="1" type="text">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="motion_a2">Rotational error from translation</label>
                        </td>
                        <td>
                            <input id='motion_a2' value="1" type="text">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="motion_a3">Translational error from translation</label>
                        </td>
                        <td>
                            <input id='motion_a3' value="1" type="text">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="motion_a4">Translational error from rotation</label>
                        </td>
                        <td>
                            <input id='motion_a4' value="1" type="text">
                        </td>
                    </tr>
                    </tbody>
                </table>
            </fieldset>
        </div>
    </div>

    <div class="row">
        <div class="col l12 s12">
            <p>
                In the demos above, we have demonstrated that while it is true that actual motion will not match the planned
                motion, we can simulate many possible outcomes. We do not know the exact location of the robot but we can
                simulate the distribution of possible outcomes. Using the motion model alone is not sufficient as the mean
                will tend towards the planned motion rather than the actual motion. In order to actually localize, we 
                need to use additional information about the position. This extra information comes in the form of sensor readings.
            </p>
        </div>
    </div>

    <div class="row"><h3>Uncertainty in Sensor Readings</h3></div>

    <div class="row">
        <div class="col l12 s12">
            <h4>Sensing and Laser Range Finders</h4>
            <p>
                Because a robot cannot determine its location by simply integrating its wheel motion or commands alone,
                additional information is needed to extract the true location. This information comes from sensor readings.
                There are a wide variety of sensors that are used in mobile robotics. Cameras, sonars, gyroscopes, lasers, 
                and Wi-Fi antennae have all been used to aid in localization. One common kind of sensor is a range finder,
                a sensor that determines the distance of an obstacle from the sensor. Range finders on robots are usually lasers
                though sonars are also sometimes used. Both of these are time of flight sensors which operate by sending out a
                signal (a laser beam or sonar pulse) and recording how long it took for the signal to bounce off an obstacle and
                return. Most of the time, these sensors have a minimum and maximum effective range.
            </p>
            <p>
                The laser range finders that are typically used function by sweeping the laser beam in an arc and recording
                the distance at a fixed set of angles. Each reading, provides a measurement of the closest obstacle in that
                direction. Using a map of the environment and a sweep of the laser range finder, it is possible to infer which
                locations on the map that reading came from. It is not possible to uniquely determine the location using only
                these sensor readings as there are usually locations that will produce similar readings. For example, when 
                traveling down the middle of a hallway the readings from areas where there are no doors will be very similar.
            </p>
            <p>
                In addition, there are errors in the readings given by the sensors. These errors occur for a variety of reasons
                including environment effects, errors int he timing signal, and the optical properties of the obstacle. In order
                to use the noisy sensor readings to localize the robot, we need to understand the properties of the noise.
            </p>
            <p>
                The demo below simulates multiple readings for a single beam of a laser range-finder. The graph shown
                is a histogram of the number of times the sensor gives a particular reading. The actual obstacle is 10
                meters away. Note that even though the readings are noisy, the average reading tends towards the true distance.
                Using the GUI below, you can change the magnitude of the sensor noise and view its impact on the readings. You
                can also modify the number of observations that are shown in the plot.
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col l8 s12">
            <canvas id="sensor_demo"></canvas>
        </div>
        <div class="col l4 s12">
            <fieldset>
                <table>
                    <tbody>
                    <tr>
                        <td>
                            <label for="sensor_demo_sensorNoise">
                                Sensor Noise : </label>
                            <input id="sensor_demo_sensorNoise" type="text"
                                   value="2">
                        </td>
                    </tr>
                    <tr>
                        <td><input id="nSamples" type="text"
                                   value="100">
                            <label for="nSamples">
                                . Times </label>
                        </td>
                    </tr>
                    <tr>
                        <td class="center">
                            <button type="button" class="btn-large waves-effect waves-light center"
                                    onclick="sensorDemo.sample(Math.pow(10, Number(document.getElementById('nSamples').value)));">
                                Sense
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </fieldset>
        </div>
    </div>

    <div class="row">
        <div class="col l8 s12">
            <p>
                Despite the errors in individual readings of the sensor, the average error over a large number of
                readings tends to zero as the number of readings increases, and the distribution of the readings follow
                a known pattern, modeled by a <a href="https://en.wikipedia.org/wiki/Normal_distribution">Normal
                Distribution.</a>.
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col l12 s12">
            <h4>Simulating A Laser Rangefinder</h4>
            <p>
                The demo below demonstrates readings from a laser range finder on a map.
                Click and press on  a location on the map to set the location of the robot. The
                robot will be turned to face the location that your mouse is when you release
                the button. You can click on the mini map to change the location of the window.
                The red lines are readings that returned something less than max. The gray lines
                are readings that returned the max distance. Note: When there is no obstacle closer
                to the robot than the max distance, the reading will be the max distance.
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col l8 s12">
            <canvas id="sensor_model_demo"></canvas>
        </div>
        <div class="col l4 s12">
            <canvas id="sensor_model_mini"></canvas>
            <fieldset>
                <table>
                    <tbody>
                    <tr>
                        <td>
                            <label for="nLasers">Number of Lasers</label>
                        </td>
                        <td>
                            <input id="nLasers" data-slider-value="18">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="sensorRadius">Sensor Radius</label>
                        </td>
                        <td>
                            <input id="sensorRadius" data-slider-value="3">
                        </td>
                        <td>m</td>
                    </tr>
                    <tr>
                        <td>
                            <label for="sensorNoise">Sensor Noise</label>
                        </td>
                        <td>
                            <input id="sensorNoise" data-slider-value="0.1">
                        </td>
                        <td>m</td>
                    </tr>
                    <tr>
                        <td>
                            <label for="colorRes">Coloring Resolution</label>
                        </td>
                        <td>
                            <input id="colorRes" data-slider-value="10">
                        </td>
                        <td>pixels</td>
                    </tr>
                    <tr>
                        <td>
                            <label for="shouldColor">Color the Map</label>
                        </td>
                        <td>
                            <div class="switch">
                                <label>
                                    Off
                                    <input type="checkbox" id="shouldColor"
                                           onchange='measurementDemo.setColoring(event.target.checked);'>
                                    <span class="lever blue"></span>
                                    On
                                </label>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </fieldset>
        </div>
    </div>
</div>

<div class="container">
    <div class="row"><h3>Particle Filter Localization</h3></div>
    <div class="row">
        <div class="col lg 8">
            <p>
                There are a large number of algorithms that are meant to solve the problem of mobile robot localization.
                One such algorithm is known as Particle Filter Localization or Monte Carlo Localization (MCL).
                Particle filters are a general class of filters that estimate a probability distribution by maintaining
                a number of hypotheses of the actual state of the distribution called particles. For mobile robot localization
                the goal is to determine the location of the robot given the sensor readings and optionally the
                commands sent to the robot or odometry and a map of the environment.
            </p>
            <p>
                A particle filter implementation for mobile robot localization requires the following models:
            </p>
            <ul>
                <li>A motion model that can generate a location given the preceding location and optionally a command
                or odometry reading.</li>
                <li>A sensor model that calculates the probability of a sensor reading given a location and optionally a map.</li>
            </ul>
            <p>
                For localization, the particles are possible locations of the robot plus a weight that represents the likelihood of that location
                being the true location of the robot. The particles are projected forward in time by the motion model in the <b>prediction</b> step.
                The weights are updated using the sensor model in the <b>update</b> step.
            </p>
            <h4>
                Overview of particle filter localization at each time step:
            </h4>
            <ol>
                <li>
                    <b>Predict</b> each particle's location and direction using the motion model. 
                    The motion model simulates the uncertainties described above.
                </li>
                <li>
                    <b>Update</b> each particle's weight using the sensor model. The weights reflect the
                    likelihood that the sensor reading that was observed will be seen at that particle's location.
                </li>
                <li>
                    <b>Resample</b> the particles based on the updated weights. This is done to prevent the divergence 
                    of the particles seen from just simulating the motion as well as to help prevent the filter from being 
                    impacted by particles that are very unlikely to reflect the true state.
                </li>
            </ol>
            <p>
               The particles can then be used to collect various statistics about the state of the robot. For example, the mean
               location of all of the particles is often used as the believed location of the robot.
            </p>
            <p>
                You can use the visualization below to explore particle filter localization. Use the sliders to change the parameters of the filter as well as the sensor readings.
            </p>
            <br/>
        </div>
    </div>
    <div class='row'>
        <div class="col l8 s12">
            <canvas id="mcl_canvas" width="7" height="4"></canvas>
            <p class="center">
                <button onclick="mclDemo.stop(event);" class="btn waves-effect waves-light red">
                    <span class="glyphicon glyphicon-repeat"></span>
                </button>
                <button class="btn waves-effect waves-light blue disabled">
                    <span class="glyphicon glyphicon-step-backward"></span>
                </button>
                <button onclick="mclDemo.start(event);" class="btn waves-effect waves-light">
                    <span class="glyphicon glyphicon-play"></span>
                </button>
                <button onclick="mclDemo.stepForward(event);"
                        class="btn waves-effect waves-light blue">
                    <span class="glyphicon glyphicon-step-forward"></span>
                </button>
            </p>
            <span id="probability"></span>
        </div>
        <div class='col l4 s12'>
            <canvas id="mcl_minicanvas" width="70" height="27"></canvas>
            <fieldset>
                <table>
                    <tbody>
                    <tr>
                        <td>
                            <label for="mcl_nParticles"># of particles</label>
                        </td>
                        <td>
                            <input type='text' id="mcl_nParticles"
                                   onblur='mclDemo.setParticleCount(Number(event.target.value));'
                                   onkeypress='return isNumber(event);'
                                   class="form-control" value="500"
                                   size="3" style="padding: 0">
                        </td>
                    </tr>
                    <!--<tr>-->
                    <!--<td>-->
                    <!--<label for="mcl_pRatio">% of particles-->
                    <!--resampled-->
                    <!--</label>-->
                    <!--</td>-->
                    <!--<td>-->
                    <!--<input type='text' id="mcl_pRatio" data-slider-value="0.9">-->
                    <!--</td>-->
                    <!--</tr>-->
                    <tr>
                        <td>
                            <label for="mcl_stride">Speed</label>
                        </td>
                        <td>
                            <input type='text' id="mcl_stride" value="0.04">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="mcl_a1">Rotational error from
                                rotation
                            </label>
                        </td>
                        <td>
                            <input id='mcl_a1' value="1" type="text">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="mcl_a2">Rotational error from
                                translation
                            </label>
                        </td>
                        <td>
                            <input id='mcl_a2' value="1" type="text">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="mcl_a3">Translational error from
                                translation
                            </label>
                        </td>
                        <td>
                            <input id='mcl_a3' value="1" type="text">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="mcl_a4">Translational error from
                                rotation
                            </label>
                        </td>
                        <td>
                            <input id='mcl_a4' value="1" type="text">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="mcl_sensorRadius">Sensor Radius</label>
                        </td>
                        <td>
                            <input id="mcl_sensorRadius" type="text" data-slider-value="3">
                        </td>
                    </tr>
                    <tr>
                        <td><label for="mcl_sensorNoise">Sensor Noise</label>
                        </td>
                        <td><input type='text' id="mcl_sensorNoise" data-slider-value="0.2"></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="mcl_colorRes">Coloring
                                Resolution
                            </label>
                        </td>
                        <td>
                            <input type="text" id="mcl_colorRes" data-slider-value="10">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="mcl_shouldColor"
                                   class="custom-control custom-checkbox">Color
                                the Map</label>
                        </td>
                        <td>
                            <div class="switch">
                                <label>
                                    Off
                                    <input id="mcl_shouldColor"
                                           onchange='mclDemo.setColoring(event.target.checked);'
                                           type="checkbox">
                                    <span class="lever blue"></span>
                                    On
                                </label>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </fieldset>
        </div>
    </div>
</div>
<footer class="page-footer white">
    <div class="container">
        <div class="row">
            <div class="col l6 s12">
              Developed by 
              <a href="//www.joydeepb.com">Joydeep</a>,
              <a href="mailto:zhangxp1998@gmail.com">Kelvin</a>, and
              <a href="mailto:ziweihe@umass.edu">William</a>.
            </div>
        </div>
    </div>
</footer>
</body>
</html>
